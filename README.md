# Компонент Filter

Этот документ предоставляет обзор функциональности фильтрации, реализованной для проекта. Решение включает различные компоненты, функции и хуки, которые вместе обеспечивают гибкий и многократно используемый механизм фильтрации.

## Основной элемент

### filterConfig

`filterConfig` является основным элементом управления, который определяет различные режимы фильтров и их связанные компоненты. Этот конфигурационный файл описывает доступные фильтры, их типы, начальные выбранные элементы и компоненты, которые используются для их визуализации.

- **label**: Название режима фильтра, отображаемое в интерфейсе.
- **typeFilter**: Тип фильтра, используемый для обработки данных (например, `in`, `eq`).
- **hidden**: Опциональное свойство, указывающее, скрыт ли данный режим фильтра.
- **types**: Массив допустимых типов данных для фильтра (например, `string`, `number`).
- **valueList**: Булевое значение, указывающее, использует ли фильтр список значений.
- **initialSelectedItems**: Массив начально выбранных элементов.
- **component**: Компонент, используемый для отображения фильтра.

## Компоненты

### FilterDropdown

Этот компонент обрабатывает основной интерфейс выпадающего списка для выбора и применения фильтров.

- **Взаимодействие**:
  - Импортирует функции `initializeFilterMode` и `getAvailableFilters` из утилит.
  - Импортирует конфигурацию фильтров из `filterConfig`.
  - Использует `FilterMain` для отображения основного интерфейса фильтра.
  - Диспатчит действия `addFilter` и `removeFilter` в стор.

### FilterMain

Этот компонент управляет основным интерфейсом фильтра, включая заголовок и динамическое содержимое фильтра.

- **Взаимодействие**:
  - Импортирует конфигурацию фильтров из `filterConfig`.
  - Использует `FilterMenu` для отображения доступных режимов фильтрации.
  - Динамически рендерит компонент фильтра на основе текущего режима.

### FilterMenu

Этот компонент отображает меню для выбора режимов фильтра.

- **Взаимодействие**:
  - Импортирует конфигурацию фильтров из `filterConfig`.
  - Генерирует пункты меню на основе доступных режимов фильтра.

### FilterDate

Этот компонент обрабатывает выбор диапазона дат для фильтров.

- **Взаимодействие**:
  - Обновляет выбранные элементы при изменении даты.

### FilterSearchInput

Этот компонент управляет вводом для поиска в фильтре.

- **Взаимодействие**:
  - Обновляет выбранные элементы при изменении ввода.

### FilterSelectInput

Этот компонент обрабатывает ввод для выбора в фильтрах, включая поиск и динамическую загрузку.

- **Взаимодействие**:
  - Использует хуки `useDebounce` и `useFetchData` для реализации поиска и загрузки данных.
  - Обновляет выбранные элементы при выборе или отмене выбора элементов.

### FilterSelectSwitch

Этот компонент предоставляет переключатель между типами ввода для фильтрации.

- **Взаимодействие**:
  - Управляет состоянием переключателя и динамически обновляет выбранные элементы.

## Утилиты

### initializeFilterMode

Эта утилита инициализирует режим фильтра на основе типа данных столбца и списка значений.

### getAvailableFilters

Эта утилита получает доступные фильтры для заданного типа столбца и списка значений.

## Хуки

### useDebounce

Этот пользовательский хук предоставляет версию значения или функции с задержкой.

### useFetchData

Этот пользовательский хук обрабатывает загрузку данных с поддержкой пагинации и фильтрации.

## Взаимодействие со стором

### Формат хранения данных

- **addFilter**: Добавляет фильтр в стор в формате `{ tableName, filter: { id, typeFilter, dataFilter } }`.
- **removeFilter**: Удаляет фильтр из стора по `tableName` и `id`.
- **filtersSlice**: Содержит логику редьюсеров для добавления и удаления фильтров.
